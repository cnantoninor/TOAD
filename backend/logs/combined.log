{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.699Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.818Z"}
{"daysOld":30,"level":"info","message":"Starting session cleanup","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.839Z"}
{"daysOld":30,"deletedCount":5,"level":"info","message":"Session cleanup completed successfully Deleted 5 sessions older than 30 days","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.840Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.864Z"}
{"level":"info","message":"Test info message","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.873Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.881Z"}
{"error":"Test error","level":"error","message":"Test error message","service":"toad-architect-backend","stack":"Error: Test error\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/utils/logger.test.ts:39:27)\n    at Promise.then.completed (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T01:59:35.892Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.899Z"}
{"level":"warn","message":"Test warning message","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.907Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.911Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.922Z"}
{"action":"api_request","correlationId":"test-correlation-id","level":"info","message":"API Request","method":"GET","service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T01:59:35.926Z","url":"/api/sessions"}
{"action":"api_response","correlationId":"test-correlation-id","level":"info","message":"API Response","service":"toad-architect-backend","sessionId":"test-session-id","statusCode":200,"timestamp":"2025-07-31T01:59:35.931Z"}
{"action":"session_created","correlationId":"test-correlation-id","level":"info","message":"Session Created","service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T01:59:35.935Z"}
{"action":"message_sent","correlationId":"test-correlation-id","level":"info","message":"Message Sent","messageLength":100,"service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T01:59:35.940Z"}
{"action":"ai_response","correlationId":"test-correlation-id","duration":1000,"level":"info","message":"AI Response Generated","responseLength":500,"service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T01:59:35.945Z"}
{"action":"error","correlationId":"test-correlation-id","error":"Test error","level":"error","message":"Application Error","service":"toad-architect-backend","sessionId":"test-session-id","stack":"Error: Test error\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/utils/logger.test.ts:126:27)\n    at Promise.then.completed (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T01:59:35.950Z"}
{"action":"api_request","correlationId":"test-correlation-id","level":"info","message":"API Request","method":"GET","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:35.959Z","url":"/api/sessions"}
{"action":"error","correlationId":"test-correlation-id","error":"Test error","level":"error","message":"Application Error","service":"toad-architect-backend","stack":"Error: Test error\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/utils/logger.test.ts:155:27)\n    at Promise.then.completed (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T01:59:35.963Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:36.958Z"}
{"daysOld":30,"level":"info","message":"Starting session cleanup","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:36.973Z"}
{"daysOld":30,"deletedCount":5,"level":"info","message":"Session cleanup completed successfully Deleted 5 sessions older than 30 days","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:36.975Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:38.074Z"}
{"daysOld":30,"level":"info","message":"Starting session cleanup","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:38.079Z"}
{"daysOld":30,"deletedCount":5,"level":"info","message":"Session cleanup completed successfully Deleted 5 sessions older than 30 days","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:38.079Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:39.111Z"}
{"daysOld":30,"level":"info","message":"Starting session cleanup","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:39.116Z"}
{"daysOld":30,"deletedCount":5,"level":"info","message":"Session cleanup completed successfully Deleted 5 sessions older than 30 days","service":"toad-architect-backend","timestamp":"2025-07-31T01:59:39.116Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:53.660Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:53.740Z"}
{"level":"info","message":"Test info message","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:53.751Z"}
{"error":"Test error","level":"error","message":"Test error message","service":"toad-architect-backend","stack":"Error: Test error\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/utils/logger.test.ts:39:27)\n    at Promise.then.completed (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T02:00:53.774Z"}
{"level":"warn","message":"Test warning message","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:53.786Z"}
{"action":"api_request","correlationId":"test-correlation-id","level":"info","message":"API Request","method":"GET","service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T02:00:53.807Z","url":"/api/sessions"}
{"action":"api_response","correlationId":"test-correlation-id","level":"info","message":"API Response","service":"toad-architect-backend","sessionId":"test-session-id","statusCode":200,"timestamp":"2025-07-31T02:00:53.814Z"}
{"action":"session_created","correlationId":"test-correlation-id","level":"info","message":"Session Created","service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T02:00:53.824Z"}
{"action":"message_sent","correlationId":"test-correlation-id","level":"info","message":"Message Sent","messageLength":100,"service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T02:00:53.831Z"}
{"action":"ai_response","correlationId":"test-correlation-id","duration":1000,"level":"info","message":"AI Response Generated","responseLength":500,"service":"toad-architect-backend","sessionId":"test-session-id","timestamp":"2025-07-31T02:00:53.849Z"}
{"action":"error","correlationId":"test-correlation-id","error":"Test error","level":"error","message":"Application Error","service":"toad-architect-backend","sessionId":"test-session-id","stack":"Error: Test error\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/utils/logger.test.ts:126:27)\n    at Promise.then.completed (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T02:00:53.862Z"}
{"action":"api_request","correlationId":"test-correlation-id","level":"info","message":"API Request","method":"GET","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:53.870Z","url":"/api/sessions"}
{"action":"error","correlationId":"test-correlation-id","error":"Test error","level":"error","message":"Application Error","service":"toad-architect-backend","stack":"Error: Test error\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/utils/logger.test.ts:155:27)\n    at Promise.then.completed (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T02:00:53.885Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.379Z"}
{"daysOld":30,"level":"info","message":"Starting session cleanup","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.391Z"}
{"daysOld":30,"deletedCount":5,"level":"info","message":"Session cleanup completed successfully Deleted 5 sessions older than 30 days","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.392Z"}
{"level":"info","message":"Database connection closed","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.413Z"}
{"daysOld":30,"level":"info","message":"Starting session cleanup","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.418Z"}
{"error":"Cleanup failed","level":"error","message":"Session cleanup failed","service":"toad-architect-backend","stack":"Error: Cleanup failed\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/scripts/cleanup.test.ts:27:39)\n    at Promise.then.completed (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/arau6/projects/TOAD/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/home/arau6/projects/TOAD/backend/node_modules/jest-runner/build/testWorker.js:106:12)","timestamp":"2025-07-31T02:00:54.422Z"}
{"error":"SQLITE_MISUSE: Database is closed","level":"error","message":"Error closing database","service":"toad-architect-backend","stack":"Error: SQLITE_MISUSE: Database is closed\n    at /home/arau6/projects/TOAD/backend/src/models/database.ts:54:12\n    at new Promise (<anonymous>)\n    at closeDatabase (/home/arau6/projects/TOAD/backend/src/models/database.ts:53:12)\n    at cleanupOldSessions (/home/arau6/projects/TOAD/backend/src/scripts/cleanup.ts:29:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (/home/arau6/projects/TOAD/backend/src/__tests__/scripts/cleanup.test.ts:30:9)","timestamp":"2025-07-31T02:00:54.430Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.534Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.552Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.568Z"}
{"dbPath":"/home/arau6/projects/TOAD/backend/data/sessions.db","level":"info","message":"Connected to SQLite database","service":"toad-architect-backend","timestamp":"2025-07-31T02:00:54.780Z"}
